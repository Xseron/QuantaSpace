<!DOCTYPE html>
<html>
<head>
    <title>Fertilizer Prediction</title>
    <link rel="stylesheet" type="text/css" href="/templates/styles1.css">
    <!-- <script src="jquery-2.1.4.js"></script> -->
    <!-- <script src="jquery-2.1.4.js"></script>
    <script src="jspdf.min.js"></script> -->
</head>
<body>
<style> 

    body {
        background-color: #f1f1f1;
        font-family: Arial, sans-serif;
    }
    
    .container12 {
        background: white;
        margin: 3em auto;
        padding: 2em;
        border-radius: 0.5em;
        box-shadow: 0 0.25em 0.5em rgba(0,0,0,0.3);
        max-width: 600px;
    }
    
    h1 {
        color: #228B22;  /* Green */
    }
    
    .form-group {
        margin-bottom: 1.5em;
    }
    
    label {
        display: block;
        margin-bottom: 0.5em;
        font-weight: bold;
        color: #228B22;  /* Green */
    }
    
    input[type="text"] {
        width: 100%;
        padding: 0.5em;
        border: 1px solid #ccc;
        border-radius: 0.25em;
    }
    
    input[type="submit"] {
        background-color: #228B22;  /* Green */
        color: white;
        padding: 1em;
        border: none;
        border-radius: 0.25em;
        cursor: pointer;
        font-size: 1em;
    }
    
    input[type="submit"]:hover {
        background-color: #1e7a1e;  /* Darker green */
    }
    
</style>


{% extends 'base.html' %} 
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/form.css')}}">
{% endblock %}

{% block main %}

<div class="container12">
    <h1>Fertilizer Prediction</h1>
    <!-- <form action="/plants" method="post">
        <input type="file" id="file-id" name="file_name" onchange="ExtractText();">
        <div id="output"></div>
        <input type="submit" value="Predict">
    </form> -->
    <form action = "/pdfupload" method = "post" enctype="multipart/form-data">   
        <input type="file" name="file" id="file-id" />   
        <input type = "submit" value="Upload">   
    </form> 
</div>
</body>
</html>

    {% if prediction %}
    <h1>Recommended Fertilizer: {{ prediction }}</h1>
    {% endif %}
{% endblock %}

{% block footer %}
<script src="{{ url_for('static', filename='jss/chat.js')}}"></script>

<script>
// document.getElementById('chat-form').addEventListener('submit', function(event) {
// event.preventDefault(); 
// let question = document.getElementById('question').value;


// })

function ExtractText() {
    var input = document.getElementById("file-id");
    // var doc = new jsPDF(input.files[0]);            		
    alert("1");
                //var fReader = new FileReader();
                //fReader.readAsDataURL(input.files[0]);
                // console.log(input.files[0]);
                //fReader.onloadend = function (event) {
                    //convertDataURIToBinary(event.target.result);
    // fetch('/chat', {
    //     method: 'POST',
    //     headers: {
    //     'Content-Type': 'application/json'
    //     },
    //     body: JSON.stringify({question: `{{ quession }}`})
    // })
    // .then(function(response) {
    //     if (!response.ok) {
    //     throw new Error('Response not OK');
    //     }
    //     return response.json();
    // })
    // .then(function(data) {
    //     document.getElementById('bot-response').textContent = data.answer;

    //     const synth = window.speechSynthesis;
    //     const utterance = new SpeechSynthesisUtterance(data.answer);
    //     synth.speak(utterance);
    // })
    // .catch(function(error) {
    //     console.error('Error:', error);
    // });
        
        
        };
</script>
{% endblock %}